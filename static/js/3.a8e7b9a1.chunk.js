(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{284:function(e,t,a){e.exports={profileHeader:"ProfileInfo_profileHeader__2TAzG",descriptionBlock:"ProfileInfo_descriptionBlock__1JHG4"}},285:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__10R-V",posts:"MyPosts_posts__36ghe"}},286:function(e,t,a){e.exports={item:"Post_item__1jiMs"}},288:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),o=a(100),c=a(285),u=a.n(c),s=a(286),i=a.n(s),m=a(98),f=a.n(m),d=function(e){return l.a.createElement("div",{className:i.a.item},l.a.createElement("img",{src:f.a}),e.message,l.a.createElement("div",null,l.a.createElement("span",null,"like: ",e.likesCount)))},p=a(94),E=a(124),b=a(66),v=a(27),g=Object(b.a)(30),h=Object(E.a)({form:"myPostForm"})(function(e){return l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",null,l.a.createElement(p.a,{validate:[b.b,g],component:v.b,name:"newPostText",placeholder:"Enter new text"})),l.a.createElement("div",null,l.a.createElement("button",null,"Add post")))}),k=function(e){var t=e.posts.map(function(e){return l.a.createElement(d,{key:e.id,id:e.id,message:e.message,likesCount:e.likesCount})});return l.a.createElement("div",{className:u.a.postsBlock},l.a.createElement("h3",null,"My posts"),l.a.createElement("div",null,l.a.createElement(h,{onSubmit:function(t){e.addPost(t.newPostText)}})),l.a.createElement("div",{className:u.a.posts},t))},P=Object(r.b)(function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}},function(e){return{addPost:function(t){e(Object(o.a)(t))}}})(k),O=a(10),j=a(284),S=a.n(j),w=a(65),y=function(e){var t=Object(n.useState)(!1),a=Object(O.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(e.status),u=Object(O.a)(c,2),s=u[0],i=u[1];Object(n.useEffect)(function(){i(e.status)},[e.status]);return l.a.createElement("div",null,r?l.a.createElement("div",null,l.a.createElement("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateUserStatus(s)},value:s,onChange:function(e){i(e.currentTarget.value)}})):l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:function(){o(!0)}},e.status||"---")))},I=a(48),N=a.n(I),U=Object(E.a)({form:"editProfile",enableReinitialize:!0})(function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return l.a.createElement("form",{onSubmit:t},l.a.createElement("p",null,l.a.createElement("b",null,"Full name:"),Object(v.c)([],"Full name","fullName",v.a)),l.a.createElement("p",null,l.a.createElement("b",null,"Looking for a job:"),Object(v.c)([],"","lookingForAJob",v.a,"",{type:"checkbox"})),l.a.createElement("p",null,l.a.createElement("b",null,"My professional skills:"),Object(v.c)([],"Yours professional skills","lookingForAJobDescription",v.b)),l.a.createElement("p",null,l.a.createElement("b",null,"About me"),Object(v.c)([],"Info about you","aboutMe",v.b)),l.a.createElement("div",null,l.a.createElement("b",null," -My Contacts- ")," ",Object.keys(a.contacts).map(function(e){return l.a.createElement("div",{className:S.a.contact,key:e},l.a.createElement("b",null,e,": ",Object(v.c)([],e,"contacts."+e,v.a)))})),l.a.createElement("p",null,"   ",n&&l.a.createElement("div",{className:N.a.formSummaryError},n)),l.a.createElement("p",null,l.a.createElement("div",null,l.a.createElement("button",null,"Save profile info"))))}),_=function(e){var t=e.profile,a=e.status,n=e.updateUserStatus,r=e.isOwner,o=e.onSelectedEditMode;return l.a.createElement("p",null,l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("b",null," Status: "),l.a.createElement(y,{status:a,updateUserStatus:n})),l.a.createElement("b",null," -My info- "),l.a.createElement("div",null,"Looking for a job: ",t.lookingForAJob?"Yes":"No",t.lookingForAJob&&l.a.createElement("div",null,"My professional skills: ",t.lookingForAJobDescription)),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("b",null,"-About me-"),l.a.createElement("div",null,t.aboutMe))),l.a.createElement("p",null,l.a.createElement("div",null,l.a.createElement("b",null," -My Contacts- ")," ",Object.keys(t.contacts).map(function(e){return l.a.createElement(M,{key:e,contactTitle:e,contactValue:t.contacts[e]})})),l.a.createElement("div",null,r&&l.a.createElement("button",{onClick:o},"Edit Profile Info")))))},M=function(e){var t=e.contactTitle,a=e.contactValue;return l.a.createElement("div",null,t,": ",a)},A=function(e){var t=e.profile,a=e.fullName,r=e.status,o=e.updateUserStatus,c=e.isOwner,u=e.savePhoto,s=e.saveProfile,i=Object(n.useState)(!1),m=Object(O.a)(i,2),d=m[0],p=m[1];if(!t||!a)return l.a.createElement(w.a,null);var E=function(e){s(e).then(function(){p(!1)})};return l.a.createElement("div",null,l.a.createElement("div",{className:S.a.profileHeader},l.a.createElement("hr",null)),l.a.createElement("div",{className:S.a.fullName},a," (ID: ",t.userId,")"),l.a.createElement("div",{className:S.a.descriptionBlock},l.a.createElement("img",{src:t.photos.large||f.a})),l.a.createElement("div",null,c&&l.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&u(e.target.files[0])}})),l.a.createElement("div",null,d?l.a.createElement(U,{initialValues:t,profile:t,onSubmit:E}):l.a.createElement(_,{onSubmit:E,profile:t,status:r,updateUserStatus:o,editMode:d,onSelectedEditMode:function(){p(!0)},isOwner:c})))},F=function(e){return l.a.createElement("div",{className:"app-wrapper-content"},l.a.createElement(A,{status:e.status,isOwner:e.isOwner,profile:e.profile,fullName:e.fullName,userId:e.userId,updateUserStatus:e.updateUserStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile,captchaUrl:e.captchaUrl}),l.a.createElement(P,null))},x=a(99),C=a(14),J=a(122);t.default=Object(C.d)(Object(r.b)(function(e){return{profile:e.profilePage.profile,fullName:e.profilePage.fullName,userId:e.profilePage.userId,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}},{getUserProfile:o.c,setFullName:o.g,setUserId:o.h,getUserStatus:o.d,updateUserStatus:o.i,savePhoto:o.e,saveProfile:o.f}),J.a,x.a)(function(e){return Object(n.useEffect)(function(){!function(){var t=e.match.params.userId;t||(t=e.authorizedUserId),t||e.router.navigate("login"),e.getUserProfile(t),e.getUserStatus(t),e.match.params.userId||l.a.createElement(F,e)}()},[e.match.params.userId]),l.a.createElement(F,Object.assign({isOwner:!e.match.params.userId},e))})}}]);
//# sourceMappingURL=3.a8e7b9a1.chunk.js.map